<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>心蛛的 GEANT4 笔记</title>
<!-- 2013-10-22 二 15:24 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="心蛛" />
<meta  name="description" content="Level-2 for exporting to HTML"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../assets/css/worg.css" />
<link rel="alternate stylesheet" type="text/css" href="../../assets/css/worg-zenburn.css" />
<link rel="alternate stylesheet" type="text/css" href="../../assets/css/worg-classic.css" />

<script type="text/javascript" src="org-info.js">
/**
 *
 * @source: org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in org-info.js.
 *
 * Copyright (C) 2012-2013  Sebastian Rose
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "4");
org_html_manager.set("LINK_HOME", "../../index.html");
org_html_manager.set("LINK_UP", "../index.html");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="../../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">心蛛的 GEANT4 笔记</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">GEANT4 项目开发状态</a></li>
<li><a href="#sec-2">点滴</a></li>
<li><a href="#sec-3">安装</a>
<ul>
<li><a href="#sec-3-1">使用编译好的版本</a>
<ul>
<li><a href="#sec-3-1-1">Debian</a></li>
<li><a href="#sec-3-1-2">Windows 7 + VS2010 + CMake 2.8</a></li>
</ul>
</li>
<li><a href="#sec-3-2">使用 CMake 编译安装 (G4 &gt;= 9.5, Linux/OSX)</a></li>
<li><a href="#sec-3-3">Windows 7 下使用 CMake + VS2010 Express</a>
<ul>
<li><a href="#sec-3-3-1">依赖的软件平台及库</a></li>
<li><a href="#sec-3-3-2">安装过程</a></li>
</ul>
</li>
<li><a href="#sec-3-4">依赖的库</a>
<ul>
<li><a href="#sec-3-4-1">GDML (All platforms)</a></li>
<li><a href="#sec-3-4-2">Qt4 (All platforms)</a></li>
<li><a href="#sec-3-4-3">Motif UI (Linux/OSX)</a></li>
<li><a href="#sec-3-4-4">X11 OpenGL Visualization (Linux/OSX)</a></li>
<li><a href="#sec-3-4-5">WIN32 OpenGL (Windows)</a></li>
<li><a href="#sec-3-4-6">Open Inventor Visual (All)</a>
<ul>
<li><a href="#sec-3-4-6-1">Coin3D: Windows + Visual Studio 2010</a></li>
<li><a href="#sec-3-4-6-2">SoQt: Windows VS2010 Express</a></li>
<li><a href="#sec-3-4-6-3">SoWin: Windows 7 + VS2010 Express</a></li>
</ul>
</li>
<li><a href="#sec-3-4-7">X11 RayTracer Visual (Linux/Mac)</a></li>
</ul>
</li>
<li><a href="#sec-3-5">推荐的相关软件</a></li>
</ul>
</li>
<li><a href="#sec-4">几何设置</a>
<ul>
<li><a href="#sec-4-1">如何用 GDML 几何设置敏感探测器 (Sensitive Detector)</a></li>
</ul>
</li>
<li><a href="#sec-5">物理过程</a></li>
<li><a href="#sec-6">可视化</a></li>
<li><a href="#sec-7">数据库</a>
<ul>
<li><a href="#sec-7-1">G4NDL</a></li>
</ul>
</li>
<li><a href="#sec-8">错误记录</a>
<ul>
<li><a href="#sec-8-1">2012-12: Windows 7 + VS2010 + Coin3D</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
GEANT4 主页:
</p>
<ul class="org-ul">
<li><a href="http://www.geant4.org/">http://www.geant4.org/</a> 或者
</li>
<li><a href="http://cern.ch/geant4">http://cern.ch/geant4</a>
</li>
</ul>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">GEANT4 项目开发状态</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>2013-06-28: 10.0 BETA 发布
<ul class="org-ul">
<li>使用 10.0 之前先阅读多线程程序开发相关的说明:
    <a href="https://twiki.cern.ch/twiki/bin/view/Geant4/Geant4MTForApplicationDevelopers">Geant4MTForApplicationDevelopers</a>
</li>
<li>主要变更 &#x2013; <a href="http://geant4.web.cern.ch/geant4/support/Beta4.10.0-1.txt">http://geant4.web.cern.ch/geant4/support/Beta4.10.0-1.txt</a>
<ul class="org-ul">
<li>正式支持多线程，相关的示例程序做了大幅度修改。
</li>
<li>支持变量/参数的影子检查。
</li>
<li>对 CLHEP 的调用做了较大修改，隐含的头文件包含被去除，在调用
      <code>SystemOfUnits</code> 和 <code>PhysicalConstants</code> 时要注意头文件包含。
</li>
<li>移除对旧的编译系统的支持，全面迁移到 CMake 上。
</li>
<li>移除一些过时的物理模型，更新了一些数据库。
</li>
</ul>
</li>
</ul>
</li>
<li>2013-05-24: 9.6.p02 发布
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">点滴</h2>
<div class="outline-text-2" id="text-2">
<p>
自从了解并自学了一点 <a href="http://cern.ch/geant4">Geant4</a> 之后，有很多人曾经问过我不少问题，大部分都是与安装、编译有关，还有一部分是 C++ 基础知识方面的问题。鲜有人问及深入一点的内容，比如如何选择物理过程、物理过程的适用范围、如何选择高效的数据输出方式等。其实，那些基础问题在手册中仔细查找，都能够获得满意的答案。我想提醒一点：
</p>
<blockquote>
<p>
使用 Geant4, 除非你只是运行一下别人开发好的程序，否则，你就应该掌握作为一名程序员所需要的基本知识。无论是使用 GNU Make 还是 CMake, 无论是在 Linux/OSX 平台还是
Windows 平台，你都需要对编程的基本流程了解，你都需要对自己的工具熟悉。
</p>
</blockquote>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">安装</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">使用编译好的版本</h3>
<div class="outline-text-3" id="text-3-1">
<p>
参见 <a href="http://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/InstallationGuide/html/ch03.html">Geant4 Installation Manual Chapter 3</a>.
</p>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1">Debian</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
参见
</p>
<ul class="org-ul">
<li><a href="http://wiki.debian.org/DebianScience/Geant4">http://wiki.debian.org/DebianScience/Geant4</a>
</li>
<li><a href="http://lcg-heppkg.web.cern.ch/lcg-heppkg/debian/">http://lcg-heppkg.web.cern.ch/lcg-heppkg/debian/</a>
</li>
</ul>

<p>
较新版本的 Geant4 在 Debian Squeeze (6.0) 下安装步骤如下：
</p>
<ol class="org-ol">
<li>添加 CERN 的软件源（提供 ROOT, GEANT4 等软件包）：
<pre class="example">
deb http://lcg-heppkg.web.cern.ch/lcg-heppkg/debian stable hep
deb-src http://lcg-heppkg.web.cern.ch/lcg-heppkg/debian stable hep
</pre>
</li>
<li>更新软件源信息：
<pre class="example">
apt-get update
</pre>
</li>
<li>安装软件源签名公钥：
<pre class="example">
apt-get install cern-archive-keyring
</pre>
<p>
忽略错误提示，直接安装。
</p>
</li>
<li>安装 Geant4:
<pre class="example">
apt-get install geant4
</pre>
</li>
</ol>

<p>
CERN 软件源中打包的 Geant4 提供了三个脚本程序：
</p>
<ol class="org-ol">
<li><code>g4run</code> &#x2013; 用于加载 Geant4 的运行环境来运行编译好的 G4 程序。
</li>
<li><code>g4env</code> &#x2013; 用于显示设置的 Geant4 运行环境。
</li>
<li><code>g4make</code> &#x2013; 用于加载安装的 Geant4 运行环境来编译源代码。
</li>
</ol>

<p>
因此，如果你使用 CERN 源中的 Geant4, 则运行很简单。假如你在 Geant4 的
<code>examples/novice/N01</code> 目录下，按如下步骤编译并运行 Geant4 程序即可：
</p>
<ol class="org-ol">
<li>编译：
<pre class="example">
g4make
</pre>
</li>
<li>执行
<pre class="example">
g4run exampleN01
</pre>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2">Windows 7 + VS2010 + CMake 2.8</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
在 Windows 7 下，我使用的是 Visual Studio 2010 Express (你可以从 Microsoft 的网站下载并免费使用 Express 版本) 和 CMake 2.8.10。基本步骤如下：
</p>
<ol class="org-ol">
<li>安装到 Visual Studio 2010 Express C++ 及 CMake 2.8.10.
</li>
<li>从 <a href="http://geant4.web.cern.ch/geant4/support/download.shtml">Geant4 下载</a> 页面上找到 Win32-VC100-7.zip 或者 Win32-VC100-7.exe, 解压或执行 .exe 文件，将之放置到相应的目录下，比如 <code>D:\Geant4\WIN32-VC100-7\</code>.
</li>
<li>设置环境变量 <b>G4INSALL</b> 指向解压的目录。在桌面上右键点击“计算机”，从“属性”中选择“高级系统设置”，然后找到用户环境变量设置的地方，添加即可。在命令行下可简单如下：
<pre class="example">
setx G4INSTALL D:\Geant4\WIN32-VC100-7\
setx PATH %PATH%;%G4INSTALL%\bin
</pre>
<p>
如果出现命令行参数超出 255 个字符的错误，你按图形化的方法把
<code>%G4INSTALL%\bin</code> 添加到 <code>PATH</code> 环境变量即可。
</p>
</li>
<li>打开 CMake GUI, 在 Source Code 对话框中设置好 novice/N01 的源码路径 (可使用系统对话框), 比如：
<pre class="example">
D:/Geant4/WIN32-VC100-7/share/Geant4-9.6.0/examples/novice/N01
</pre>
<p>
在 Build 中填好你想编译的路径（最好与源码路径分离开来），比如：
</p>
<pre class="example">
D:/Geant4/Codes/Examples-9.6/Novice/N01
</pre>
</li>
<li>在 CMake GUI 中点击 Configure, 出现的对话框要求你选择所生成的配置文件类型，对列表中选择 Visual Studio 10. 然后点击 "Configure".
</li>
<li>在中间的环境变量中会出现几个红色高亮"的选项，按你的系统环境修改，比如：
<ul class="org-ul">
<li><code>CMAKE_INSTALL_PREFIX</code> &#x2013; D:/Geant4
</li>
<li><code>Geant4_DIR</code> &#x2013; D:/Geant4/WIN32-VC100-7/lib/Geant4-9.6.0
</li>
</ul>
</li>
<li>再点击 "Configure", 直到红色项全变成白色，然后点击 "Generate", 在提示窗中会出现如下类似消息：
<pre class="example">
Confguring done
Generating done
</pre>
</li>
<li>用 Visual Studio C++ 打开你所生成的 VS10 解决方法文件，比如
     <code>D:/Geant4/Codes/Examples-9.6/Novice/N01/N01.sln</code>
</li>
<li>然后在 VS10 中编译执行即可。此时生成 <code>INSTALL</code> 对象的话，会将
<code>exampleN01.exe</code> 安装到 <code>D:\Geant4\bin</code> 目录下。然后你从命令行中执行即可（注意 <code>%G4INSTALL%\bin</code> 在你的 <code>PATH</code> 环境中）。
</li>
</ol>

<p>
<b>注意</b>, 由于 Geant4 网站提供的二进制包中没有包含有调试信息 (Release 版本), 因此，你如果用 Win32 Debug 配置去编译源码，可能会出现诸如 ".pdb" 文件找不到之类的错误，并且运行示例会出错。在 VS2010 中选择编译 Win32 Release 版本就可以了。
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">使用 CMake 编译安装 (G4 &gt;= 9.5, Linux/OSX)</h3>
<div class="outline-text-3" id="text-3-2">
<p>
基本需要：
</p>
<ul class="org-ul">
<li>CMake &gt;= 2.6.4
</li>
<li>Linux GCC (g++)
</li>
<li>Mac OS X GCC(g++): Xcode 3 or 4
</li>
<li>Windows: VS 2010 Express or higher
</li>
<li>Linux/Mac: make
</li>
</ul>

<p>
额外的需求参见 <i>DEP-3RD</i> 及 <i>DEP-OPTS</i>。
</p>

<p>
以 9.6 版本为例，安装过程如下：
</p>
<ol class="org-ol">
<li>解压源码包：
<pre class="example">
cd /path/to/
tar -axvf geant4.9.6.tar.gz
</pre>
</li>
<li>创建专门的编译路径：
<pre class="example">
cd /path/to
mkdir geant4.9.6-build
</pre>
</li>
<li>配置并执行 CMake:
<pre class="example">
cd /path/to/geant4.9.6-build
cmake -DCMAKE_INSTALL_PREFIX=/path/to/g4.9.6-inst /path/to/geant4.9.6
</pre>
</li>
<li>数据库的设置：Geant4的 CMake 默认将数据库放在安装路径的
      <code>share/Geant4-9.6.0/data</code> 路径下。如果在执行 CMake 时加上参数
<pre class="example">
cmake -DGEANT4_INSTALL_DATA=ON &lt;other-args&gt;
</pre>
<p>
则会自动从网上下载依赖的数据包。也可以使用如下参数指定路径：
</p>
<pre class="example">
cmake -DGEANT4_INSTALL_DATADIR=&lt;path-to-data&gt; &lt;other-args&gt;
</pre>
<p>
这时，CMake 会自动从 <code>&lt;path-to-data&gt;</code> 路径下寻找你已经下载解压的数据库。
</p>
</li>
<li>编译：
<pre class="example">
make
</pre>
<p>
由于现在的机器大部分都拥有多个核心（至少双核以上），则可用如下参数加快编译速度：
</p>
<pre class="example">
make -jN
</pre>
<p>
其中的 N 是你希望的并行编译的进程数（比如双核的可设为 2）。如果想查看编译过程中的详细信息，可执行：
</p>
<pre class="example">
make -jN VERBOSE=1
</pre>
</li>
<li>安装：
<pre class="example">
make install
</pre>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Windows 7 下使用 CMake + VS2010 Express</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Geant4 9.4 及以前的安装脚本程序依赖于 GNU Make + awk + sed 等一系列 POSIX 工具，并且原先对 POSIX 平台的各种库依赖严重，这导致在 Windows 平台上编译安装 Geant4必须依赖 Cygwin 等 POSIX 环境。自从 Geant4 转向 CMake 之后，由于 CMake 能够与
Visual Studio, XCode 等平台完美衔接，使得使用这些 IDE 编译 Geant4 不再那么麻烦。
Geant4 9.5 之后在 Windows 平台上从源码安装的思路很简单：
</p>
<ol class="org-ol">
<li>用 CMake 生成 Visual Studio 的“解决方案文件” (.sln).
</li>
<li>然后在 Visual Studio 中打开 .sln 文件进行编译安装即可。
</li>
<li>配置好环境 (PATH 等), 用 CMake 生成 Geant4 应用程序源码的 .sln 文件，再使用
VS 打开进行编译、调试与运行。
</li>
</ol>
</div>

<div id="outline-container-sec-3-3-1" class="outline-4">
<h4 id="sec-3-3-1">依赖的软件平台及库</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
这儿仅仅是列表，详细的参见 <i>DEP-3RD</i>.
</p>
<ul class="org-ul">
<li>Visual Studio: OpenGL included
</li>
<li>Xerces-C++:
</li>
<li>Qt4: 4.8.4 (QtCreator 2.6.0)
</li>
<li>Open Inventor:
<ul class="org-ul">
<li>simage-1.7.0-bin-msvc9 (?)
</li>
<li>SoWin-1.5.0 (?)
</li>
<li>Coin-3.1.3-bin-msvc9 (?) [or -msvc9-amd64, -msvc8 ?]
</li>
<li>Coin-3.1.3.zip
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-3-2" class="outline-4">
<h4 id="sec-3-3-2">安装过程</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
<b>在安装前，请先按前一节提示的软件平台及相关的库准备好。</b> 解压源码包
<code>geant4.9.6.zip</code> 到指定的位置，本例中以我的为例：
</p>
<pre class="example">
D:\Exaos\Utils\geant4\geant4.9.6
</pre>
<p>
将此路径作为源码路径。
</p>

<p>
尽管 CMake 可以从 Windows <code>cmd</code> 程序中执行，建议使用 CMake GUI 程序。整个安装过程使用 CMake GUI 和 Visual Studio, 相应的截屏可参见 <a href="http://www2.warwick.ac.uk/fac/sci/physics/staff/research/bmorgan/geant4/installingonwindows">WARWICK</a> 网站。
</p>
<ol class="org-ol">
<li>打开 CMake (cmake-gui), 点击 <i>Browse Source &#x2026;</i> (浏览源码), 找到解压的路径并确认。
</li>
<li>创建一个路径来保存 Visual Studio 工程文件及编译中间文件。该路径不要与源码路径相同，也不要是其子目录。这里设置为
<code>D:\Exaos\Utils\geant4\g4.9.6-build\</code>. 在 CMake GUI 中点 <i>Browse Build&#x2026;</i>
(浏览编译目录) 按钮，找到创建的路径后并确认。(注意： CMake 在Windows 下使用前斜杠分隔路径。)
</li>
<li>点击 GUI 上的 <i>Configure</i> (配置) 按钮。
</li>
<li>在弹出窗口中选择 <b>Visual Studio 2010</b>. 确认 <i>Use default native compilers</i>
(使用默认的本地编译器) 点选上，然后点击 <i>Finish</i> (结束) 按钮。
</li>
<li>CMake 开始检查特性并提供初始的配置。一切顺利，在主选项窗口会见红色高亮的条目，包含有 CMAKE 与 GEANT4. 红色不是出错，而是指有未配置的变量。在学习版本
(Express Version) 的 Visual Studio 中你会在 GUI 底部的日志窗口中看到关于系统运行库缺失的警告，这个在标准安装中可以忽略。其它的错误会在日志窗口中报告。
</li>
<li>默认 CMake 配置编译安装 Geant4 到 <code>C:/Program Files/Geant4</code>. 如果你不想用这个目录或者无权限安装，则可以修改安装路径。点击中央选项中 <i>CMAKE</i> 条目旁边的箭头并展开所有 CMake 相关的指定配置选项，卷动到=CMAKE_INSTALL_PREFIX= 的位置，点击条目并编辑或者通过弹出的文件浏览窗修改路径。此例中修改到
<code>D:/Exaos/Utils/geant4/g4.9.6-inst</code>. <br  />
     假如需要额外的 Geant4 组件，点击中央选项窗口展开所有的 Geant4 配置选项，可参考安装说明的 2.3 节进行调整。
</li>
<li>修改任何选项后，则需要再次点击 <i>Configure</i> 按钮。结束之后，中间显示的选项列表应该显示白色。如果仍有红色条目显示，继续执行 <i>Configure</i> 直到所有都显示白色为止。
</li>
<li>点击 <i>Generate</i> 按钮生成 Visual Studio 工程文件。一切顺利，CMake 会生成最终的文件并在 GUI 底部日志窗口报告 <i>Configuring done</i>, <i>Genearting done</i>. 此时可关闭 CMake 图形界面。
</li>
<li>打开 Visual Studio, 选择 <i>Open Project</i> (打开工程). 此例中特指 Visual
Studio 2010 Express, 但在其它版本中与之类似。浏览你的编译目录，打开
Microsoft Visual Studio Solution 文件 Geant4.sln. 注意，配置、打开及解析解决方案 (solution) 中所有的文件需要花上一些时间。现在，如果你熟练的话就可以直接使用 MSBuild 命令行工具编译解决方案。但这个没有文档支持。
</li>
<li>默认 Visual Studio 解决方案编译成 Debug 配置，因此如果你需要优化的编译，可以从工具条 (Visual Studio 2010) 下拉菜单 <i>Solutions Configurations</i> (解决方案配置) 中选择 <i>Release</i> 选项。
</li>
<li>在 Solution Explorer (解决方案浏览器) 中右键选择 <i>INSTALL</i> 方案，从弹出菜单中选择 <i>Build</i>, 解决方案会开始编译并安装在前面选择的
<code>CMAKE_INSTALL_PREFIX</code> 目录下。如果你希望编译不同的配置 (比如以前选择的是
<i>Debug</i>, 现在想换成 <i>Release</i>), 直接按前一步中的提示修改配置方案，然后再次编译 <i>INSTALL</i> 方案。
</li>
<li>如果你看到成功提示，就可以退出 Visual Studio 了。
</li>
</ol>

<p>
使用 OpenInventor (Coin3D + SoWin) 编译的错误：
</p>
<ol class="org-ol">
<li>头文件定义错误：
<pre class="example">
D:\Exaos\Utils\Coin3D\3.1.3-VC10\include\Inventor/C/basic.h(288): fatal
error C1189: #error :  Define either COIN_DLL or COIN_NOT_DLL as
appropriate for your linkage! See Inventor/C/basic.h for further instructions.
</pre>
<p>
此错误可在 CMake 时修正，在高级选项中向 <code>CMAKE_CXX_FLAGS</code> 中添加新的定义：
</p>
<pre class="example">
-DCOIN_DLL -DSOWIN_DLL
</pre>
</li>
<li><code>G4OpenInventorWin.cc</code> 错误：
<pre class="example">
G4OpenInventorWin.cc(54): error C2039: “dispatchWin32Event”: 
不是“G4Win32”的成员
</pre>
<p>
将 <code>dispatchWin32Event</code> 的字母 d 改为大写，参考：
</p>
<ul class="org-ul">
<li><a href="http://blog.sina.com.cn/s/blog_5de5580a0100yr4z.html">http://blog.sina.com.cn/s/blog_5de5580a0100yr4z.html</a>
</li>
</ul>
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">依赖的库</h3>
<div class="outline-text-3" id="text-3-4">
</div>

<div id="outline-container-sec-3-4-1" class="outline-4">
<h4 id="sec-3-4-1">GDML (All platforms)</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
GDML 依赖的 XML 解析库：
</p>
<ul class="org-ul">
<li>Xerces-C++: <a href="http://xerces.apache.org/xerces-c/download.cgi">http://xerces.apache.org/xerces-c/download.cgi</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4-2" class="outline-4">
<h4 id="sec-3-4-2">Qt4 (All platforms)</h4>
<div class="outline-text-4" id="text-3-4-2">
<ul class="org-ul">
<li>Qt4 开发库: <a href="http://qt-project.org/downloads">http://qt-project.org/downloads</a>
</li>
<li>OpenGL &#x2013; <a href="http://www.opengl.org/">http://www.opengl.org/</a>
</li>
<li>MesaGL &#x2013; <a href="http://www.mesa3d.org/">http://www.mesa3d.org/</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4-3" class="outline-4">
<h4 id="sec-3-4-3">Motif UI (Linux/OSX)</h4>
<div class="outline-text-4" id="text-3-4-3">
<ul class="org-ul">
<li>Motif &#x2013; <a href="http://www.openmotif.org/">http://www.openmotif.org/</a>
</li>
<li>OpenGL/MesaGL
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4-4" class="outline-4">
<h4 id="sec-3-4-4">X11 OpenGL Visualization (Linux/OSX)</h4>
<div class="outline-text-4" id="text-3-4-4">
<ul class="org-ul">
<li>X11 devel
</li>
<li>OpenGL/MesaGL
</li>
<li>XQuartz (OSX 10.8)
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4-5" class="outline-4">
<h4 id="sec-3-4-5">WIN32 OpenGL (Windows)</h4>
<div class="outline-text-4" id="text-3-4-5">
<ul class="org-ul">
<li>OpenGL / MesaGL
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4-6" class="outline-4">
<h4 id="sec-3-4-6">Open Inventor Visual (All)</h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
Coin3D: <a href="https://bitbucket.org/Coin3D/coin/wiki/Home">https://bitbucket.org/Coin3D/coin/wiki/Home</a>
</p>

<p>
Coin 是基于 OpenGL 的 3D 图形库，它源自 Open Inventor 2.1 API (目前 Coin 仍然与它兼容). Open Inventor (常简写为 OIV) 是一个最初由 SGI 开发的基于场景提供图像保持、渲染与模型操作的 C++ 类库。在它发布不久就成为科学与工程领域的 3D 图像显示与可视化模拟软件事实上的标准图形库。它也是 VRML1 文档标准的基础。目前有好几本与
Open Inventor 相关主题的书，比如 <b>The Inventor Mentor</b>, <b>The Inventor
Toolmaker</b>.
</p>

<p>
Coin 是在 SGI Open Inventor 开源之前基于 OIV 库的 API 从头开发的，它未借用任何
SGI OIV 的代码。 Coin 在 2000 年秋达到与 OIV 2.1 完全兼容的目标，此后添加了许多额外的特性，如支持文件格式 VRML97 等。
</p>

<p>
Coin 网站提供的软件包如下：
</p>
<ul class="org-ul">
<li>Coin &#x2013; Coin 的基础包
</li>
<li>SoWin &#x2013; Coin 与 Windows 平台的接口。
</li>
<li>SoXt &#x2013; Coin 与 X11 平台上 (Linux, OSX XQartz 或 Cygwin-X)
</li>
<li>SoQt &#x2013; Coin 的 Qt 接口，与 SGI 及 TGS Open Inventor 兼容。兼容
Unix/Linux, Win32 及 Mac OS X 平台。
</li>
<li>Sc21 &#x2013; Objective-C++ 框架，是 Coin 库与 OSX UI 的接口。
</li>
</ul>
</div>

<div id="outline-container-sec-3-4-6-1" class="outline-5">
<h5 id="sec-3-4-6-1">Coin3D: Windows + Visual Studio 2010</h5>
<div class="outline-text-5" id="text-3-4-6-1">
<p>
在 Windows Visual Studio 2010 Express 上编译配置 Coin3D 可参考：
</p>
<ul class="org-ul">
<li><a href="http://te.ugm.ac.id/~wibirama/tutorial/coin3d/Tutorial_Coin3D_VS2010.pdf">http://te.ugm.ac.id/~wibirama/tutorial/coin3d/Tutorial_Coin3D_VS2010.pdf</a>
</li>
<li>www.cse.ohio-state.edu/~hwshen/681/Site/lab_help_files/windows_help.pdf
</li>
</ul>

<p>
Windows + VS2010 Express 的安装步骤如下：
</p>
<ol class="org-ol">
<li>从 Coin3D 下载 zip 包并解压。
</li>
<li>修改系统环境变量，添加 <code>COINDIR</code> 变量，指向你的 Coin3D 安装目录，比如我的系统上为 <code>D:\Exaos\Utils\Coin3D</code>.
</li>
<li>将源码目录 <code>build\msvc9\</code> 拷贝一份并命名为 <code>msvc10</code>, 然后用 VS2010 打开拷贝目录下的 <code>coin3.sln</code> 项目解决方案文件。
</li>
<li>此时直接编译 3.1.3 版本会有不少错误，按后面的介绍修正之。然后继续编译。
</li>
<li>创建好你的 Coin3D 安装目录，在项目解决方案中生成 <code>coin3_install</code>, 则会自动安装到你预设的 <code>COINDIR</code> 路径下。
</li>
<li>下载测试文件，测试你的安装是否可用：
<ul class="org-ul">
<li><a href="http://te.ugm.ac.id/~wibirama/tutorial/coin3d/test.7z">http://te.ugm.ac.id/~wibirama/tutorial/coin3d/test.7z</a>
</li>
</ul>
</li>
</ol>

<p>
在 VS2010 Express 上编译 Coin 3.1.3 主要问题有：
</p>
<ol class="org-ol">
<li>错误 (error C2440) 为 <code>ScXMLStateMachine.cpp</code> 第 334 行:
<pre class="example">
transitions.push_back(PImpl::StateTransition(NULL, PRIVATE(this)-&gt;initializer.get()));
</pre>
<p>
其中的 <code>NULL</code> 应该为 <code>(ScXMLObject *)NULL</code>.
</p>
</li>
<li>其余是 C4819 警告：
<pre class="example">
warning C4819: 该文件包含不能在当前代码页(936)中表示的字符
</pre>
<p>
出现这样的警告，将相应的文件打开，重新以 UTF-8 格式保存即可。另外修改 "工程
&#x2013;&gt; 属性 &#x2013;&gt; 配置属性 &#x2013;&gt; 常规 &#x2013;&gt; 字符集", 将之修改为 Unicode 字符集。
</p>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-3-4-6-2" class="outline-5">
<h5 id="sec-3-4-6-2">SoQt: Windows VS2010 Express</h5>
<div class="outline-text-5" id="text-3-4-6-2">
<p>
编译安装完 Coin 3.1.3 后，可编译 SoQt 1.5.0，步骤与编译 Coin 类似，只不过要将对
Coin 及 Qt 的依赖关系添加到项目属性中，包括“包含目录”及“引用目录”。熟悉一下
VS2010, 你很快就知道如何去做，不辍述。
</p>

<p>
安装错误与警告等：
</p>
<ol class="org-ol">
<li>一连串的引用头文件方式已过期警告，可忽略
<pre class="example">
warning : Inclusion of header files from include/Qt is deprecated.
</pre>
</li>
<li>头文件缺失错误 (error C1083)
<pre class="example">
src\Inventor\Qt\editors\SoQtMaterialEditor.cpp(41): fatal error C1083:
无法打开包括文件:“Inventor/Qt/editors/SoQtMaterialEditor.h”
: No such file or directory
</pre>
<p>
此错误已经在 Mailing List 中有汇报：
</p>
<ul class="org-ul">
<li><a href="http://mailman.coin3d.org/pipermail/coin-discuss/2012-July/018438.html">http://mailman.coin3d.org/pipermail/coin-discuss/2012-July/018438.html</a>
</li>
</ul>
<p>
在源码目录 <code>src/Inventor/Qt/editors/old/</code> 下存在此文件，但开发组声明此目录下的代码已经陈旧，需要人力重新更新并实现 editor 组件。修改模版文件
<code>src\Inventor\Qt\common\editors\SoQtMaterialEditor.cpp.in</code> 如下行
</p>
<pre class="example">
#include &lt;Inventor/@Gui@/editors/So@Gui@MaterialEditor.h&gt;
</pre>
<p>
变更为
</p>
<pre class="example">
#include &lt;Inventor/@Gui@/So@Gui@MaterialEditor.h&gt;
</pre>
</li>
<li>其它一些直接从 msvc9 转换过来导致的 moc 生成的文件未能正常生成，从而导致文件缺失的错误，这些文件有：
<ul class="org-ul">
<li>src\Inventor\Qt\viewers\ExaminerViewer.cpp(59):
Inventor/Qt/viewers/moc_SoQtExaminerViewerP.icc
</li>
<li>src\Inventor\Qt\viewers\FullViewer.cpp(67):
Inventor/Qt/viewers/moc_SoQtFullViewerP.icc
</li>
<li>src\Inventor\Qt\viewers\PlaneViewer.cpp(50):
Inventor/Qt/viewers/moc_SoQtPlaneViewerP.icc
</li>
<li>src\Inventor\Qt\SoQt.cpp(263): Inventor/Qt/moc_SoQtP.icc
</li>
<li>src\Inventor\Qt\SoQtComponent.cpp(44):
Inventor/Qt/moc_SoQtComponentP.icc
</li>
<li>src\Inventor\Qt\SoQtGLWidget.cpp(84): Inventor/Qt/moc_SoQtGLWidgetP.icc
</li>
<li>src\Inventor\Qt\SoQtSignalThread.cpp(25):
Inventor/Qt/moc_SoQtSignalThread.icc
</li>
</ul>
</li>
<li>由 Qt moc 生成相应丢失的文件：
<pre class="example">
moc -i -o &lt;output_moc_file&gt; &lt;header&gt;
</pre>
</li>
<li>如果编译 Debug 版，则可能出现的找不到 <code>coin3d.lib</code> 文件的链接错误，编译并安装一个 Debug 版本的 Coin3D 即可。
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-3-4-6-3" class="outline-5">
<h5 id="sec-3-4-6-3">SoWin: Windows 7 + VS2010 Express</h5>
<div class="outline-text-5" id="text-3-4-6-3">
<p>
与 SoQt 安装类似。安装时出现的错误与警告：
</p>
<ol class="org-ol">
<li>头文件缺失错误 <code>Inventor/Win/editors/SoWinColorEditor.h</code>
<ul class="org-ul">
<li>修改 <code>Inventor/Win/common/editors/</code> 目录下的
<code>SoGuiMaterialEditor.cpp.in</code> 及 <code>SoGuiColorEditor.cpp.in</code> 文件，修改其中如下行内容：
<pre class="example">
#include &lt;Inventor/@Gui@/editors/So@Gui@ColorEditor.h&gt;
</pre>
<p>
修改为：
</p>
<pre class="example">
#include &lt;Inventor/@Gui@/So@Gui@ColorEditor.h&gt;
</pre>
</li>
</ul>
</li>
</ol>

<p>
安装完 SoWin 后可参考如下网址运行一个示例，看看你是否安装正确：
</p>
<ul class="org-ul">
<li><a href="http://blog.csdn.net/robinhao/article/details/1770204">http://blog.csdn.net/robinhao/article/details/1770204</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-3-4-7" class="outline-4">
<h4 id="sec-3-4-7">X11 RayTracer Visual (Linux/Mac)</h4>
<div class="outline-text-4" id="text-3-4-7">
<p>
依赖 X11 开发包，适用于 Unix/Linux, 或者 Mac OS X 上的 XQuartz 平台，理论上也适用于 Windows 平台上的 Cygwin-X.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">推荐的相关软件</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>DAWN: postscript 引擎
</li>
<li>HepRApp Browser (使用 HepRep 图形驱动)
</li>
<li>WIRED4 JAS 插件 (配合 HepRep 图形驱动)
</li>
<li>VRML Browser (配置 VRML 图形驱动)
</li>
<li>OpenScientist 交互分析环境
</li>
<li>AIDA 接口 (配置 OpenScientist, iAIDA, JAS3 及 rAIDA)
<ul class="org-ul">
<li>iAIDA: <a href="http://iaida.dynalias.net/Intro.html">http://iaida.dynalias.net/Intro.html</a>
<ul class="org-ul">
<li>一个 C++ 的 AIDA 接口
</li>
</ul>
</li>
<li>RAIDA: <a href="http://ilcsoft.desy.de/portal/software_packages/raida/">http://ilcsoft.desy.de/portal/software_packages/raida/</a>
<ul class="org-ul">
<li>基于 ROOT 的 AIDA 接口
</li>
<li>目前版本： v01-06-02
</li>
</ul>
</li>
<li>AIDA: <a href="http://aida.freehep.org/">http://aida.freehep.org/</a>
<ul class="org-ul">
<li>最初的 Java 实现接口
</li>
<li>AIDA-JNI 使用 JNI (Java Native Interface) 技术让使用 AIDA 接口的 C++ 程序与 Java 实现 (JAIDA) 相链接工作。 Geant4 中最初使用 AIDAJNI。目前
AIDAJNI 已经停止开发（停止在 3.2.x 版本）。
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">几何设置</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">如何用 GDML 几何设置敏感探测器 (Sensitive Detector)</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li><a href="http://goo.gl/fsqVS">http://goo.gl/fsqVS</a>
<ol class="org-ol">
<li>在解析完 GDML 之后手动给 SD 赋值:
<ul class="org-ul">
<li>先初始化 SD 类
</li>
<li>获得待赋值的 Logical Volume 指针及 SD 的指针
(<code>G4SDManager::FindSensitiveDetector()</code>)
</li>
<li>使用 <code>G4LogicalVolume::SetSensitiveDetector()</code>
</li>
</ul>
</li>
<li>使用 GDML 文件中的辅助信息 (参见 g4gogdml 示例):
<ul class="org-ul">
<li>GDML 处理器创建一个 map, 保存有 volume 的指针
</li>
<li>访问 map 中的辅助信息，比如 SD 及值
</li>
<li>进行实际的赋值
</li>
</ul>
</li>
</ol>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">物理过程</h2>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">可视化</h2>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">数据库</h2>
<div class="outline-text-2" id="text-7">
<p>
Geant4 中常用的数据库主要包括 Elastic, G4EMLOW, G4NDL, PhotonEvaporation,
RadiativeDecay, 它们分别用于模拟不同的物理过程。
</p>
<ul class="org-ul">
<li>Elastic &#x2013; 用于高能粒子之间的弹性散射模拟。
</li>
<li>G4EMLOW &#x2013; 低能电磁过程数据库。
</li>
<li>G4NDL &#x2013; <code>neutron_hp</code> 和 <code>isotope_production</code> 类别的过程数据库。
</li>
<li>RadiativeDecay &#x2013; 放射性衰变数据库。
</li>
</ul>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">G4NDL</h3>
<div class="outline-text-3" id="text-7-1">
<p>
该评价数据主要用于 Geant4 中的中子强子相互作用过程和同位素产生的类别中。除了用于
Geant4 的 <code>neutron_hp</code> 和 <code>isotope_production</code> 类别来模拟中子散射和同位素产生之外，该数据库不得做其它用途。如果希望将该数据库用于其它用途，请联系其 <a href="mailto:Hans-Peter.Wellisch@cern.ch ">作者</a>。
</p>
</div>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">错误记录</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">2012-12: Windows 7 + VS2010 + Coin3D</h3>
<div class="outline-text-3" id="text-8-1">
<p>
错误：
</p>
<pre class="example">
2&gt;------ 已启动生成: 项目: exampleN02, 配置: Debug Win32 ------
2&gt;exampleN02.obj : error LNK2019: 无法解析的外部符号 "public: __thiscall
 G4OpenInventorWin::G4OpenInventorWin(void)" (??0G4OpenInventorWin@@QAE@XZ)，
 该符号在函数 "public: __thiscall G4OpenInventorWin32::G4OpenInventorWin32(void)"
 (??0G4OpenInventorWin32@@QAE@XZ) 中被引用
2&gt;exampleN02.obj : error LNK2001: 无法解析的外部符号 "public: virtual
 class G4VSceneHandler * __thiscall G4OpenInventor::CreateSceneHandler(class
 G4String const &amp;)" (?CreateSceneHandler@G4OpenInventor@@UAEPAVG4VSceneHandler@@ABVG4String@@@Z)
2&gt;exampleN02.obj : error LNK2001: 无法解析的外部符号 "public: virtual
 class G4VViewer * __thiscall G4OpenInventorWin::CreateViewer(class
 G4VSceneHandler &amp;,class G4String const &amp;)" (?CreateViewer@G4OpenInventorWin@@UAEPAVG4VViewer@@AAVG4VSceneHandler@@ABVG4String@@@Z)
2&gt;exampleN02.obj : error LNK2001: 无法解析的外部符号 "private: virtual
 void __thiscall G4OpenInventorWin::Initialize(void)" (?Initialize@G4OpenInventorWin@@EAEXXZ)
2&gt;exampleN02.obj : error LNK2019: 无法解析的外部符号 "public: virtual
 __thiscall G4OpenInventorWin::~G4OpenInventorWin(void)" (??1G4OpenInventorWin@@UAE@XZ)，
 该符号在函数 "public: virtual __thiscall G4OpenInventorWin32::~G4OpenInventorWin32(void)" (??1G4OpenInventorWin32@@UAE@XZ) 中被引用
2&gt;D:\Exaos\Utils\Geant4\Build\Debug-vc10\novice\N02\Debug\exampleN02.exe : fatal error LNK1120: 5 个无法解析的外部命令
</pre>

<p>
参考：
</p>
<ul class="org-ul">
<li><a href="http://hypernews.slac.stanford.edu/HyperNews/geant4/get/visualization/540.html?inline=-1">http://hypernews.slac.stanford.edu/HyperNews/geant4/get/visualization/540.html?inline=-1</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<script type="text/javascript" src="http://exaos.github.io/assets/js/pagetail.js"></script>
<div id="disqus_thread"></div>
<p>版权所有 ©2013: 心蛛 | Date:  | Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.1), <a href="http://validator.w3.org/check?uri=referer">Validate</a>,
<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/"><img src="http://i.creativecommons.org/l/by-nc-sa/2.5/cn/88x31.png" alt="88x31.png"/></a>
<p><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></p>
</div>
</body>
</html>
